---
interface Props {
  title: string;
  url: string;
  type: string;
  author?: string;
  description?: string;
}

const { title, url, type, author, description } = Astro.props;

const typeSlug = type.toLowerCase().replace(/\s+/g, '-');
---

<article class="resource-card" data-type={typeSlug}>
  <div class="resource-card-header">
    <span class={`resource-badge resource-badge--${typeSlug}`}>{type}</span>
  </div>
  <div class="resource-card-body">
    <h4 class="resource-card-title">
      <a href={url} target="_blank" rel="noopener noreferrer">{title}</a>
    </h4>
    {author && <p class="resource-card-author">by {author}</p>}
    {description && <p class="resource-card-description">{description}</p>}
  </div>
</article>

<style>
  .resource-card {
    border: 1px solid var(--sl-color-gray-5, #e2e8f0);
    border-radius: 0.5rem;
    padding: 1rem 1.25rem;
    background: var(--sl-color-bg-nav, #fff);
    transition: box-shadow 0.15s ease, border-color 0.15s ease;
  }

  .resource-card:hover {
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.08);
    border-color: var(--sl-color-gray-4, #cbd5e1);
  }

  :root[data-theme='dark'] .resource-card {
    border-color: var(--sl-color-gray-6, #334155);
  }

  :root[data-theme='dark'] .resource-card:hover {
    border-color: var(--sl-color-gray-5, #475569);
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.25);
  }

  .resource-card-header {
    margin-bottom: 0.5rem;
  }

  .resource-badge {
    display: inline-block;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.15rem 0.5rem;
    border-radius: 9999px;
    background: var(--sl-color-gray-6, #e2e8f0);
    color: var(--sl-color-gray-2, #334155);
  }

  .resource-badge--article {
    background: rgb(219 234 254 / 0.8);
    color: #1e40af;
  }

  .resource-badge--video {
    background: rgb(254 226 226 / 0.8);
    color: #991b1b;
  }

  .resource-badge--course {
    background: rgb(237 233 254 / 0.8);
    color: #5b21b6;
  }

  .resource-badge--book {
    background: rgb(254 243 199 / 0.8);
    color: #92400e;
  }

  .resource-badge--tool {
    background: rgb(209 250 229 / 0.8);
    color: #065f46;
  }

  .resource-badge--paper {
    background: rgb(241 245 249 / 0.8);
    color: #334155;
  }

  :root[data-theme='dark'] .resource-badge--article {
    background: rgb(30 64 175 / 0.3);
    color: #93c5fd;
  }

  :root[data-theme='dark'] .resource-badge--video {
    background: rgb(153 27 27 / 0.3);
    color: #fca5a5;
  }

  :root[data-theme='dark'] .resource-badge--course {
    background: rgb(91 33 182 / 0.3);
    color: #c4b5fd;
  }

  :root[data-theme='dark'] .resource-badge--book {
    background: rgb(146 64 14 / 0.3);
    color: #fcd34d;
  }

  :root[data-theme='dark'] .resource-badge--tool {
    background: rgb(6 95 70 / 0.3);
    color: #6ee7b7;
  }

  :root[data-theme='dark'] .resource-badge--paper {
    background: rgb(51 65 85 / 0.3);
    color: #cbd5e1;
  }

  .resource-card-title {
    margin: 0 0 0.25rem;
    font-size: 1rem;
    font-weight: 600;
    line-height: 1.3;
  }

  .resource-card-title a {
    color: var(--sl-color-white, inherit);
    text-decoration: none;
  }

  .resource-card-title a:hover {
    text-decoration: underline;
    color: var(--sl-color-text-accent, #3b82f6);
  }

  .resource-card-author {
    font-size: 0.8rem;
    color: var(--sl-color-gray-3, #64748b);
    margin: 0 0 0.25rem;
  }

  .resource-card-description {
    font-size: 0.875rem;
    color: var(--sl-color-gray-2, #475569);
    margin: 0;
    line-height: 1.5;
  }

  :root[data-theme='dark'] .resource-card-description {
    color: var(--sl-color-gray-3, #94a3b8);
  }
</style>
